<nav class="navbar navbar-light bg-light">
  <a class="navbar-brand mt-4"></a>
</nav>
<div class="container container-nival mt-4">
  <div class="row">
    <section class="example-spacer" style="width: 100%;">
      <div class="example-button-row">
        <span class="with-icon mx-3">
          <mat-icon>
            list_alt
          </mat-icon>
          Reportes
        </span>
        <button mat-button style="display: inline;" (click)="exportToExcel()" [disabled]="!ValidateButton">
          <mat-icon>
            get_app
          </mat-icon>
          Descargar
        </button>
        <form [formGroup]="fechaForm" (ngSubmit)="filtrar()" style="display: inline;">
          <mat-form-field class="ml-4">
            <mat-label>Inicio</mat-label>
            <input autocomplete="off" matInput [matDatepickerFilter]="myFilter" [matDatepicker]="picker" formControlName="inicio" readonly>
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>

          <mat-form-field class="ml-4">
            <mat-label>Final</mat-label>
            <input autocomplete="off" matInput [matDatepickerFilter]="myFilter" [matDatepicker]="picker1"
              formControlName="fin" readonly (dateInput)="validarFecha($event, fechaForm.value)">
            <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
            <mat-datepicker #picker1></mat-datepicker>
          </mat-form-field>
          <button mat-button [disabled]="!ValidateButton">
            <mat-icon>
              search
            </mat-icon>
            Buscar
          </button>
        </form>
       
      </div>
    </section>
    <div class="col-sm-12 col-md-12 col-lg-12">
      <hr class="hr-nival">
    </div>
  </div>
</div>

<div class="container">
  <mat-form-field appearance="standard" class="busqueda1" style="padding-top: 0px !important;">
    <mat-label>Buscar</mat-label>
    <input matInput autocomplete="off" (keyup)="applyFilter($event)" placeholder="Ejemplo 201720 o Pepito Perez" #input>
    <a class="aNival" mat-icon-button matSuffix (click)="limpiarBusqueda(input)">
      <mat-icon matSuffix>close</mat-icon>
    </a>
  </mat-form-field>

  <div class="example-container mat-elevation-z2">
    <table mat-table #table [dataSource]="dataSource">

      <ng-container *ngFor="let disCol of displayedColumns; let colIndex = index" [ngSwitch]="disCol"
        matColumnDef="{{disCol}}" [sticky]="isSticky(disCol)">
        <th mat-header-cell *matHeaderCellDef>{{disCol}}</th>

        <ng-container *ngSwitchCase="'Numero'">
          <td class="number" mat-cell *matCellDef="let element "> {{element[disCol]}}</td>
        </ng-container>

        <ng-container *ngSwitchCase="'Nombre'">
          <td mat-cell *matCellDef="let element "> {{element[disCol]}}</td>
        </ng-container>

        <ng-container *ngSwitchCase="'Imagen'">
          <td mat-cell *matCellDef="let element, let i = index;">
            <a (click)="openPhoto(element[disCol])">
              <img mat-card-image class="avatarNival" src={{element[disCol]}} alt="noImage">
            </a>
          </td>
        </ng-container>

        <ng-container *ngSwitchCase="'Porcentaje'">
          <td mat-cell *matCellDef="let element">{{element[disCol]}}</td>
        </ng-container>

        <ng-container *ngSwitchDefault>
          <td mat-cell *matCellDef="let element,let i = index;">
            <a class="text-center" (click)="onclick(element[disCol],i,disCol)">
              <p class=" rounded p-1 mt-2 aNival  text-white" [ngStyle]="{'backgroundColor':getColor(element[disCol])}">
                {{element[disCol]}}
              </p>
            </a>
          </td>
        </ng-container>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>
</div>