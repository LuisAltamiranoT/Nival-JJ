<h2 mat-dialog-title> Editar Horario: </h2>
<div class="text-center">
    <div *ngIf="validate else barra">
    </div>
</div>
<br>
<mat-dialog-content class="mat-typography">
    <div class="example-container mat-elevation-z2">
        <table mat-table [dataSource]="dataSource">

            <!-- Position Column -->
            <ng-container matColumnDef="hora">
                <th mat-header-cell *matHeaderCellDef> Hora. </th>
                <td mat-cell *matCellDef="let element"> {{element.hora}}
                </td>
            </ng-container>

            <!-- Name Column -->
            <ng-container matColumnDef="lunes">
                <th mat-header-cell *matHeaderCellDef> Lunes </th>
                <td class="px-1" mat-cell *matCellDef="let element, let l = index;">
                    <!--Info para nuevas materias 
                    LS estado actual LD estado Almacenado-->
                    <p class=" rounded p-1 bg-info text-white mt-2" *ngIf="element.LS">
                        {{element.lunes}}
                        <a class="text-white pl-2" (click)="delHoraDiaLunes(l)">
                            <i class="fas fa-times-circle"></i>
                        </a>
                    </p>

                    <!--secundary para nuevas materias -->
                    <p class=" rounded p-1 bg-secondary text-white mt-2" *ngIf="element.LD">
                        {{element.lunes}}
                    </p>

                    <a class="text-center text-muted" (click)="setHoraDiaLunes(l,element.hora)"
                        *ngIf="!element.LS && !element.LD">
                        <i class="far fa-plus-square"></i>
                    </a>
                </td>
            </ng-container>

            <!-- Weight Column -->
            <ng-container matColumnDef="martes">
                <th mat-header-cell *matHeaderCellDef> Martes </th>
                <td class="px-1" mat-cell *matCellDef="let element, let m = index;">
                    <!--Info para nuevas materias 
                    LS estado actual LD estado Almacenado-->
                    <p class=" rounded p-1 bg-info text-white mt-2" *ngIf="element.MS">
                        {{element.martes}}
                        <a class="text-white pl-2" (click)="delHoraDiaMartes(m)">
                            <i class="fas fa-times-circle"></i>
                        </a>
                    </p>

                    <!--secundary para nuevas materias -->
                    <p class=" rounded p-1 bg-secondary text-white mt-2" *ngIf="element.MD">
                        {{element.martes}}
                    </p>

                    <a class="text-center text-muted" (click)="setHoraDiaMartes(m,element.hora)"
                        *ngIf="!element.MS && !element.MD">
                        <i class="far fa-plus-square"></i>
                    </a>

                </td>
            </ng-container>

            <!-- Symbol Column -->
            <ng-container matColumnDef="miercoles">
                <th mat-header-cell *matHeaderCellDef> Miercoles </th>
                <td class="px-1" mat-cell *matCellDef="let element, let mi = index;">
                    <!--Info para nuevas materias 
                    LS estado actual LD estado Almacenado-->
                    <p class=" rounded p-1 bg-info text-white mt-2" *ngIf="element.MiS">
                        {{element.miercoles}}
                        <a class="text-white pl-2" (click)="delHoraDiaMiercoles(mi)">
                            <i class="fas fa-times-circle"></i>
                        </a>
                    </p>

                    <!--secundary para nuevas materias -->
                    <p class=" rounded p-1 bg-secondary text-white mt-2" *ngIf="element.MiD">
                        {{element.miercoles}}
                    </p>

                    <a class="text-center text-muted" (click)="setHoraDiaMiercoles(mi,element.hora)"
                        *ngIf="!element.MiS && !element.MiD">
                        <i class="far fa-plus-square"></i>
                    </a>
                </td>
            </ng-container>
            <ng-container matColumnDef="jueves">
                <th mat-header-cell *matHeaderCellDef> Jueves </th>
                <td class="px-1" mat-cell *matCellDef="let element, let j = index;">
                    <!--Info para nuevas materias 
                    LS estado actual LD estado Almacenado-->
                    <p class=" rounded p-1 bg-info text-white mt-2" *ngIf="element.JS">
                        {{element.jueves}}
                        <a class="text-white pl-2" (click)="delHoraDiaJueves(j)">
                            <i class="fas fa-times-circle"></i>
                        </a>
                    </p>

                    <!--secundary para nuevas materias -->
                    <p class=" rounded p-1 bg-secondary text-white mt-2" *ngIf="element.JD">
                        {{element.jueves}}
                    </p>

                    <a class="text-center text-muted" (click)="setHoraDiaJueves(j,element.hora)"
                        *ngIf="!element.JS && !element.JD">
                        <i class="far fa-plus-square"></i>
                    </a>
                </td>
            </ng-container>

            <ng-container matColumnDef="viernes">
                <th mat-header-cell *matHeaderCellDef> viernes </th>
                <td class="px-1" mat-cell *matCellDef="let element, let v = index;">
                    <!--Info para nuevas materias 
                    LS estado actual LD estado Almacenado-->
                    <p class=" rounded p-1 bg-info text-white mt-2" *ngIf="element.VS">
                        {{element.viernes}}
                        <a class="text-white pl-2" (click)="delHoraDiaViernes(v)">
                            <i class="fas fa-times-circle"></i>
                        </a>
                    </p>

                    <!--secundary para nuevas materias -->
                    <p class=" rounded p-1 bg-secondary text-white mt-2" *ngIf="element.VD">
                        {{element.viernes}}
                    </p>

                    <a class="text-center text-muted" (click)="setHoraDiaViernes(v,element.hora)"
                        *ngIf="!element.VS && !element.VD">
                        <i class="far fa-plus-square"></i>
                    </a>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
    </div>
</mat-dialog-content>
<br>
<div class="row">
    <div class="col-sm-6 col-md-6 col-lg-6 col-12 my-1">
        <button type="button" class="btn btn-sm btn-primary fullNivalWidth"
            (click)="guardarNuevoHorario()">Guardar</button>
    </div>
    <div class="col-sm-6 col-md-6 col-lg-6 col-12 my-1">
        <a class="btn btn-sm btn-danger text-white  fullNivalWidth" (click)="dimissModal()">Cancelar</a>
    </div>
</div>
<ng-template #barra>
    <div class="pb-2">
        <mat-progress-bar class="input-modal" id="progreesbar" mode="indeterminate"></mat-progress-bar>
    </div>
</ng-template>